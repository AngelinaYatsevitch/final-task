!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){function n(e,t,n,a,r,l,o){try{var c=e[l](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,r)}function a(e){return function(){var t=this,a=arguments;return new Promise((function(r,l){var o=e.apply(t,a);function c(e){n(o,r,l,c,s,"next",e)}function s(e){n(o,r,l,c,s,"throw",e)}c(void 0)}))}}var r=document.getElementById("first_screen"),l=document.getElementById("main_screen"),o=document.querySelector(".authentification"),c=document.querySelector(".registration"),s=document.querySelector(".registration_link"),i=document.getElementById("registrate_btn"),d=document.getElementById("enter_btn"),u=document.querySelector(".exit"),m=document.querySelector(".clients_table"),p=document.getElementById("enter_username"),g=document.getElementById("enter_password"),y=document.getElementById("reg_username"),f=document.getElementById("reg_password"),v=document.getElementById("reg_password_check"),h=(document.getElementById("main"),document.getElementById("clients")),E=(document.getElementById("map"),[]),b=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=t,this.password=n};function L(){""!==p.value&&""!==g.value?(d.classList.remove("disabled"),d.removeAttribute("disabled"),document.querySelector(".errorMessageEmail").style.display="none",document.querySelector(".errorMessagePass").style.display="none"):(""===p.value?document.querySelector(".errorMessageEmail").style.display="inline":""===g.value&&(document.querySelector(".errorMessagePass").style.display="inline"),d.classList.add("disabled"),d.setAttribute("disabled","true"))}function M(){""!==y.value&&""!==f.value&&""!==v.value?(i.classList.remove("disabled"),i.removeAttribute("disabled"),document.querySelector(".errorMessageEmail").style.display="none",document.querySelector(".errorMessagePass").style.display="none"):(""===y.value?document.querySelector(".errorMessageEmail").style.display="inline":(""===f.value||""===v.value)&&(document.querySelector(".errorMessagePass").style.display="inline"),i.classList.add("disabled"),i.setAttribute("disabled","true"))}for(var S,w,T=document.querySelector(".system"),I=document.querySelector(".use"),H=navigator.userAgent,_=H.split(" "),k=0;k<_.length;k++)if(_[k].match(/\(/))S=k;else if(_[k].match(/\)/)){w=k+1;break}var q=_.slice(S,w).join(" ");T.append(q);for(var x=0;x<_.length;x++){var B=/OPR/i,j=/Chrome/i,P=H.match(B),O=H.match(j);(_[x].match(B)||_[x].match(/Firefox/i)||_[x].match(j)&&!P||_[x].match(/Safari/i)&&!O||_[x].match(/Edg/i))&&I.append(_[x])}function A(){return(A=a(regeneratorRuntime.mark((function e(){var t,n,a,r,l,o,c,s,i,d,u,p,g,y,f,v,E,b,L,M,S,w,T,I,H,_,k,q,x,B,j,P,O,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gist.githubusercontent.com/oDASCo/3f4014d24dc79e1e29b58bfa96afaa1b/raw/677516ee3bd278f7e3d805108596ca431d00b629/db.json");case 2:return t=e.sent,e.next=5,t.json();case 5:for(n=e.sent,a=document.createElement("tr"),r=document.createElement("th"),l=document.createElement("th"),o=document.createElement("th"),c=document.createElement("th"),s=document.createElement("th"),i=document.createElement("th"),r.innerHTML="Имя",l.innerHTML="Компания",o.innerHTML="Почта",c.innerHTML="Телефон",s.innerHTML="Баланс",i.innerHTML="Дата регистрации",a.append(r),a.append(l),a.append(o),a.append(c),a.append(s),a.append(i),a.style.background="#c3c3c4",m.append(a),d=0;d<n.length;d++)u=document.createElement("tr"),p=document.createElement("td"),g=document.createElement("td"),y=document.createElement("td"),f=document.createElement("td"),v=document.createElement("td"),E=document.createElement("td"),b=n[d].registered.substr(0,10),L=Date.parse(b),console.log(Date.parse(n[d].registered)),M=new Date(L),S=+(S=M.getDate())>9?S:"0".concat(S),w=+(w=M.getMonth()+1)>9?w:"0".concat(w),T=M.getFullYear(),p.innerHTML=n[d].name,g.innerHTML=n[d].company,y.innerHTML=n[d].email,f.innerHTML=n[d].phone,v.innerHTML=n[d].balance,E.innerHTML="".concat(S,":").concat(w,":").concat(T),E.style.position="relative",(I=document.createElement("button")).innerHTML="X",I.classList.add("delete"),E.append(I),u.append(p),u.append(g),u.append(y),u.append(f),u.append(v),u.append(E),m.append(u);for((H=document.createElement("div")).classList.add("extraInfo"),_=document.createElement("div"),k=document.createElement("div"),q=document.createElement("div"),x=0,B=0,j=0,P=0;P<n.length;P++){for("male"==n[P].gender?x++:"female"==n[P].gender&&B++,O=n[P].balance.slice(1).split(""),A=0;A<O.length;A++)","===O[A]&&O.splice(A,1);+O.join("")>j&&(j=+O.join(""))}_.innerHTML="<span>Количество мужчин:</span> ".concat(x),k.innerHTML="<span>Количество женщин:</span> ".concat(B),q.innerHTML="<span>Максимальный баланс:</span> ".concat(j,"$"),H.append(_),H.append(k),H.append(q),h.append(H),h.append(m);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var n=new google.maps.InfoWindow({content:t});e.addListener("click",(function(){n.open(e.get("map"),e)}))}s.addEventListener("click",(function(){o.style.display="none",c.style.display="flex"})),i.addEventListener("click",(function(){var e=new b(y.value,f.value);E.push(e),c.style.display="none",o.style.display="flex"})),d.addEventListener("click",(function(){if(null===localStorage.getItem("email")&&null===localStorage.getItem("password")){for(var e=0;e<E.length;e++)E[e].userName===p.value?E[e].password===g.value&&(localStorage.setItem("email",p.value),localStorage.setItem("password",g.value),r.style.display="none",l.style.display="block"):alert("There's no such a user");0===E.length&&alert("There's no such a user")}else p.value=localStorage.getItem("email"),g.value=localStorage.getItem("name"),r.style.display="none",l.style.display="block"})),u.addEventListener("click",(function(){r.style.display="block",l.style.display="none"})),m.addEventListener("click",(function(e){if("delete"==e.target.className&&confirm("Вы действительно хотите удалить эту сроку?")){e.target.closest("tr").remove();var t=document.createElement("div"),n=document.createElement("span");t.classList.add("infoMessage"),t.innerHTML="Строка успешно удалена",n.classList.add("infoExit"),n.innerHTML="X",t.append(n),l.append(t),n.onclick=function(){t.style.display="none"}}})),p.addEventListener("change",L),g.addEventListener("change",L),y.addEventListener("change",M),f.addEventListener("change",M),v.addEventListener("change",M),function(){A.apply(this,arguments)}(),window.initMap=function(){for(var e=new google.maps.Map(document.getElementById("map"),{zoom:3,center:{lat:53.89979378678366,lng:27.55869137841202}}),t=[{lat:55.75222,lng:37.61556},{lat:53.89979378678366,lng:27.55869137841202},{lat:50.45466,lng:30.5238},{lat:54.68916,lng:25.2798},{lat:52.52437,lng:13.41053},{lat:41.89193,lng:12.51133},{lat:52.4345,lng:30.9754},{lat:53.9168,lng:30.3449},{lat:55.1904,lng:30.2049},{lat:40.4165,lng:-3.70256},{lat:42.69751,lng:23.32415},{lat:37.97945,lng:23.71622}],n=["Москва","Минск","Киев","Вильнюс","Берлин","Рим","Гомель","Могилев","Витебск","Мадрид","София","Афины"],a=0;a<n.length;++a){D(new google.maps.Marker({position:t[a],map:e}),n[a])}}}]);